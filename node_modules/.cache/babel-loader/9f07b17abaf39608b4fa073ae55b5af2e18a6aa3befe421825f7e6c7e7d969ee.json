{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import Button from'./Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cups(){const[cups,setCups]=useState('');const[copied,setCopied]=useState(false);const generarCups=useCallback(function(){let distribuidora=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"0000\";let pais=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"ES\";let ntOpcional=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const generarParteNumerica=distribuidora=>{const numeroSuministro=Math.floor(Math.random()*1e12).toString().padStart(12,'0');return distribuidora+numeroSuministro;};const calcularCaracteresControl=numero=>{const tablaEquivalencia=\"TRWAGMYFPDXBNJZSQVHLCKE\";const numeroEntero=parseInt(numero,10);const R0=numeroEntero%529;const C=Math.floor(R0/23);const R=R0%23;return tablaEquivalencia[C]+tablaEquivalencia[R];};const parteNumerica=generarParteNumerica(distribuidora);const caracteresControl=calcularCaracteresControl(parteNumerica);let cups=\"\".concat(pais,\" \").concat(distribuidora,\" \").concat(parteNumerica.substring(0,4),\" \").concat(parteNumerica.substring(4,8),\" \").concat(parteNumerica.substring(8,12),\" \").concat(caracteresControl);if(ntOpcional){const n=Math.floor(Math.random()*10);const opcionesT=['F','P','R','C','X','Y','Z'];const t=opcionesT[Math.floor(Math.random()*opcionesT.length)];cups+=\" \".concat(n,\" \").concat(t);}return cups;},[]);useEffect(()=>{// Generar el CUPS inicial cuando el componente se monte por primera vez\nconst nuevoCups=generarCups(\"1234\",\"ES\",true);setCups(nuevoCups);},[generarCups]);const handleGenerarCups=()=>{const nuevoCups=generarCups(\"1234\",\"ES\",true);setCups(nuevoCups);setCopied(false);};const handleCopyToClipboard=()=>{navigator.clipboard.writeText(cups);setCopied(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:cups,readOnly:true,style:{width:'400px',height:'60px',padding:'8px',marginRight:'8px',fontSize:'20px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyToClipboard,style:{backgroundColor:'white',color:'black',padding:'8px',border:'1px solid black',cursor:'pointer',width:'100px',height:'60px',fontSize:'20px'},children:\"Copiar\"}),copied&&/*#__PURE__*/_jsx(\"p\",{style:{color:'white'},children:\"\\xA1CUPS copiado al portapapeles!\"})]}),/*#__PURE__*/_jsx(Button,{onClick:handleGenerarCups,text:\"Generar CUPS\"})]})});}export default Cups;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Button","jsx","_jsx","jsxs","_jsxs","Cups","cups","setCups","copied","setCopied","generarCups","distribuidora","arguments","length","undefined","pais","ntOpcional","generarParteNumerica","numeroSuministro","Math","floor","random","toString","padStart","calcularCaracteresControl","numero","tablaEquivalencia","numeroEntero","parseInt","R0","C","R","parteNumerica","caracteresControl","concat","substring","n","opcionesT","t","nuevoCups","handleGenerarCups","handleCopyToClipboard","navigator","clipboard","writeText","className","children","type","value","readOnly","style","width","height","padding","marginRight","fontSize","onClick","backgroundColor","color","border","cursor","text"],"sources":["/home/emanuel/Project/Personal/cups-generator/src/components/cups-generator.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport Button from './Button';\n\nfunction Cups() {\n  const [cups, setCups] = useState('');\n  const [copied, setCopied] = useState(false);\n\n  const generarCups = useCallback((distribuidora = \"0000\", pais = \"ES\", ntOpcional = false) => {\n    const generarParteNumerica = (distribuidora) => {\n      const numeroSuministro = Math.floor(Math.random() * 1e12).toString().padStart(12, '0');\n      return distribuidora + numeroSuministro;\n    };\n\n    const calcularCaracteresControl = (numero) => {\n      const tablaEquivalencia = \"TRWAGMYFPDXBNJZSQVHLCKE\";\n      const numeroEntero = parseInt(numero, 10);\n      const R0 = numeroEntero % 529;\n      const C = Math.floor(R0 / 23);\n      const R = R0 % 23;\n      return tablaEquivalencia[C] + tablaEquivalencia[R];\n    };\n\n    const parteNumerica = generarParteNumerica(distribuidora);\n    const caracteresControl = calcularCaracteresControl(parteNumerica);\n    let cups = `${pais} ${distribuidora} ${parteNumerica.substring(0, 4)} ${parteNumerica.substring(4, 8)} ${parteNumerica.substring(8, 12)} ${caracteresControl}`;\n    if (ntOpcional) {\n      const n = Math.floor(Math.random() * 10);\n      const opcionesT = ['F', 'P', 'R', 'C', 'X', 'Y', 'Z'];\n      const t = opcionesT[Math.floor(Math.random() * opcionesT.length)];\n      cups += ` ${n} ${t}`;\n    }\n    return cups;\n  }, []);\n\n  useEffect(() => {\n    // Generar el CUPS inicial cuando el componente se monte por primera vez\n    const nuevoCups = generarCups(\"1234\", \"ES\", true);\n    setCups(nuevoCups);\n  }, [generarCups]);\n\n  const handleGenerarCups = () => {\n    const nuevoCups = generarCups(\"1234\", \"ES\", true);\n    setCups(nuevoCups);\n    setCopied(false);\n  };\n\n  const handleCopyToClipboard = () => {\n    navigator.clipboard.writeText(cups);\n    setCopied(true);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div>\n          <input type=\"text\" value={cups} readOnly style={{ width: '400px', height: '60px', padding: '8px', marginRight: '8px', fontSize: '20px' }} />\n          {/* Botón para copiar al portapapeles */}\n          <button onClick={handleCopyToClipboard} style={{ backgroundColor: 'white', color: 'black', padding: '8px', border: '1px solid black', cursor: 'pointer', width: '100px', height: '60px', fontSize: '20px' }}>Copiar</button>\n          {/* Mostrar mensaje de copiado */}\n          {copied && <p style={{ color: 'white' }}>¡CUPS copiado al portapapeles!</p>}\n        </div>\n        <Button onClick={handleGenerarCups} text=\"Generar CUPS\" />\n      </header>\n    </div>\n  );\n}\n\nexport default Cups;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}